@{
    ViewBag.Title = "Profile User";
    ViewBag.pTitle = "Profile User";
    ViewBag.pageTitle = "Profile User";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@using Microsoft.AspNetCore.Http
@{
    var usuarioId = ViewContext.HttpContext.Session.GetInt32("UsuarioId");
    var perfilId = ViewContext.HttpContext.Session.GetInt32("PerfilId");
    var usuarioNombre = ViewContext.HttpContext.Session.GetString("UsuarioNombre");
    var usuarioApellido = ViewContext.HttpContext.Session.GetString("UsuarioApellido");
    var usuarioEspecialidad = ViewContext.HttpContext.Session.GetString("UsuarioEspecialidad");
    var especialidadId = ViewContext.HttpContext.Session.GetInt32("UsuarioIdEspecialidad");
    var usuarioEstablecimiento = ViewContext.HttpContext.Session.GetString("UsuarioEstablecimiento");
    var usuarioDireccion = ViewContext.HttpContext.Session.GetString("UsuarioDireccion");
    var usuarioTelefono = ViewContext.HttpContext.Session.GetString("UsuarioTelefono");
    var usuarioEmail = ViewContext.HttpContext.Session.GetString("UsuarioEmail");
    var usuarioDescripcion = ViewContext.HttpContext.Session.GetString("UsuarioDescripcion");
    var fotoPerfilBase64 = ViewContext.HttpContext.Session.GetString("UsuarioFotoPerfil");
    var rutaImagenPorDefecto = Url.Content("~/assets/images/users/multi-user.jpg");

    string fotoPerfilSrc = string.IsNullOrEmpty(fotoPerfilBase64)
    ? rutaImagenPorDefecto
    : $"data:image/jpeg;base64,{fotoPerfilBase64}";
}
<div class="profile-foreground position-relative mx-n4 mt-n4">
    <div class="profile-wid-bg">
        <img src="~/assets/images/profile-bg.jpg" alt="" class="profile-wid-img" />
    </div>
</div>
<div class="pt-4 mb-4 mb-lg-3 pb-lg-12">
    <div class="row g-4">
        <div class="col-auto">
            <div class="avatar-lg">
                <img src="@fotoPerfilSrc" alt="user-img" class="img-thumbnail rounded-circle" />
            </div>
        </div>
        <!--end col-->
        <div class="col">
            <div class="p-2">
                <h3 class="text-white mb-1">@usuarioNombre @usuarioApellido</h3>
                <p class="text-white text-opacity-75">@usuarioEspecialidad</p>
                <div class="hstack text-white-50 gap-1">
                    <div class="me-2">
                        <i class="ri-map-pin-user-line me-1 text-white text-opacity-75 fs-16 align-middle"></i>@usuarioDireccion
                    </div>
                    <div>
                        <i class="ri-building-line me-1 text-white text-opacity-75 fs-16 align-middle"></i>@usuarioEstablecimiento
                    </div>
                </div>
            </div>
        </div>
        <!--end col-->

        <div class="col-xxl-9">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title mb-3">Sobre el doctor @usuarioNombre @usuarioApellido</h5>
                    <p>
                        @usuarioDescripcion
                    </p>


                </div>
                <!--end card-body-->
            </div><!-- end card -->
        </div><!-- end card -->



    </div>
    <!--end row-->
</div>

<div class="row">
    <div class="col-xxl-12">
        <div>
            <div class="d-flex">
                <!-- Nav tabs -->
                <ul class="nav nav-pills animation-nav profile-nav gap-2 gap-lg-3 flex-grow-1">
                    <li class="nav-item">
                        <a class="nav-link fs-14 active" data-bs-toggle="tab" href="#overview-tab"
                           role="tab">
                            <i class="ri-airplay-fill d-inline-block d-md-none"></i> <span class="d-none d-md-inline-block">Overview</span>
                        </a>
                    </li>

                </ul>
                <div class="flex-shrink-0">
                    <a href="@Url.Action("UpdateUser", "Users", new { id = @usuarioId })"
                       class="btn btn-success">
                        <i class="ri-edit-box-line align-bottom"></i> Editar Perfil
                    </a>

                </div>
            </div>
            <!-- Tab panes -->
            <div class="tab-content pt-4 text-muted">
                <div class="tab-pane active" id="overview-tab" role="tabpanel">
                    <div class="row">
                        <div class="col-xxl-3">


                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title mb-3">Info</h5>
                                    <div class="table-responsive">
                                        <table class="table table-borderless mb-0">
                                            <tbody>
                                                <tr>
                                                    <th class="ps-0" scope="row">Nombre Completo :</th>
                                                    <td class="text-muted">
                                                        @usuarioNombre
                                                        @usuarioApellido
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th class="ps-0" scope="row">Telefono :</th>
                                                    <td class="text-muted">@usuarioTelefono</td>
                                                </tr>
                                                <tr>
                                                    <th class="ps-0" scope="row">E-mail :</th>
                                                    <td class="text-muted">@usuarioEmail</td>
                                                </tr>
                                                <tr>
                                                    <th class="ps-0" scope="row">Direccion :</th>
                                                    <td class="text-muted">
                                                        @usuarioDireccion
                                                    </td>
                                                </tr>

                                            </tbody>
                                        </table>
                                    </div>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                            <!--end card-->
                        </div>
                        <!--end col-->

                    </div>
                    <!--end row-->
                </div>

                <!--end tab-pane-->
            </div>
            <!--end tab-content-->
        </div>
    </div>
    <!--end col-->
</div>
<!--end row-->
